{"version":1,"windowDimensions":{"x":0,"y":28,"width":929,"height":916,"maximized":false},"grammars":{"grammarOverridesByPath":{}},"project":{"deserializer":"Project","paths":["/home/cm/dotfiles","/usr/lib/prezto"],"buffers":[{"text":"#!/bin/zsh\n\n# Easily install Prezto on new setups\n# Thanks to Sorin Ionescu's README\n# and Chionsas' PKGBUILD in the AUR (https://aur.archlinux.org/packages/prezto-git/)\n\n# mkdir -v /usr/lib/prezto\n\n## must use --recursive option to make sure external submodules are pulled in\n# git clone --recursive https://github.com/skittleys/prezto.git /usr/lib/prezto\n\nsetopt EXTENDED_GLOB\n\n# Give write permissions to sudoers group\nif [ 'grep -E -e \"^sudo:\" /etc/group' ]; then\n        sudo chgrp -R sudo /usr/lib/prezto && sudo chgrp -R sudo /etc/zsh && sudo chmod -R g+w /usr/lib/prezto && sudo chmod -R g+w /etc/zsh && echo \"Write permissions granted to group sudo\"\nelif [ 'grep -E -e \"^wheel:\" /etc/group' ]; then\n        sudo chgrp -R wheel /usr/lib/prezto && sudo chgrp -R wheel /etc/zsh && sudo chmod -R g+w /usr/lib/prezto && sudo chmod -R g+w /etc/zsh && echo \"Write permissions granted to group wheel\"\nelse\n        echo \"Neither group wheel nor sudo exists. Permissions have not been changed.\"\n        exit 2\nfi\n\n# want to make symlinks to all runcoms except zshrc\nfor rcfile in /usr/lib/prezto/runcoms/^(zshrc|README.md); do\n  ln -vs \"$rcfile\" \"$HOME/.${rcfile:t}\"\ndone\n\n# link zsh files in /etc to runcoms (zshrc after)\nzlist=('/etc/zsh/zlogin' 'etc/zsh/zlogout' 'etc/zsh/zpreztorc' 'etc/zsh/zshenv')\nfor zfile in ${zlist[@]}; do\n\trcfile=$(basename $zfile)\n\tif [ -f /usr/lib/prezto/runcoms/$rcfile ]; then\n\t\techo \"source /usr/lib/prezto/runcoms/$rcfile\" >| \"/etc/zsh/$rcfile\" && echo \"/etc/zsh/$rcfile modified\"\n\tfi\ndone\n\n# create /etc/zsh/zshrc\necho -e \"source /etc/zsh/zpreztorc\\nsource /usr/lib/prezto/init.zsh\\nsource /usr/lib/prezto/runcoms/zshrc\" >| /etc/zsh/zshrc && echo \"/etc/zsh/zshrc modified\"\n\n# create a user-specific .zshrc\n[[ -e $HOME/.zshrc ]] && cp $HOME/.zshrc $HOME/zshrc-backup && echo \"backed up .zshrc to zshrc-backup\"\necho -e \"source /usr/lib/prezto/runcoms/zshrc\\n\\nDEFAULT_USER=\"`whoami` >| $HOME/.zshrc && echo \"created .zshrc\"\n\n# changes module based on package manager / distro\nif [ -d \"/etc/apt\" ]; then\n\tsed -i~ \"s/PKG_MGR/apt/\" /usr/lib/prezto/runcoms/zpreztorc\nelif [ -f \"/etc/pacman.conf\" ]; then\n\tsed -i~ \"s/PKG_MGR/pacman/\" /usr/lib/prezto/runcoms/zpreztorc\nelif [ -f \"/etc/yum.conf\" ]; then\n\tsed -i~ \"s/PKG_MGR/yum/\" /usr/lib/prezto/runcoms/zpreztorc\nelif [ -d \"/etc/portage\" || -d \"etc/urpmi\" || -d \"/etc/zypp\" ]; then\n\techo \"Sorry, there is no module available for this package manager.\"\n\tsed -i~ \"/^\\s\\s'PKG_MGR' \\\\\\/d\" /usr/lib/prezto/runcoms/zpreztorc\nelse\n\techo \"Sorry, package manager was not detected. Please add module manually.\"\n\tsed -i~ \"/^\\s\\s'PKG_MGR' \\\\\\/d\" /usr/lib/prezto/runcoms/zpreztorc\nfi\n","markerStore":{"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection","editorId":75},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/usr/lib/prezto/install.zsh","digestWhenLastPersisted":"1813b59f241de9c71ab14f8c769987bca6682448","preferredLineEnding":null,"deserializer":"TextBuffer","version":2}]},"workspace":{"deserializer":"Workspace","paneContainer":{"deserializer":"PaneContainer","version":1,"root":{"deserializer":"Pane","id":3,"items":[{"deserializer":"TextEditor","id":75,"softTabs":true,"scrollRow":0,"scrollColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":76,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/usr/lib/prezto/install.zsh","largeFileMode":false},"largeFileMode":false}}],"activeItemURI":"/usr/lib/prezto/install.zsh","focused":true,"flexScale":1},"activePaneId":3},"packagesWithActiveGrammars":["language-shellscript","language-hyperlink","language-todo"],"destroyedItemURIs":["/home/cm/dotfiles/bin/bin/gbp-dsc","atom://config/install"]},"packageStates":{"fuzzy-finder":{"/usr/lib/prezto/install.zsh":1447815766209},"metrics":{"sessionLength":736772},"tabs":[{"previewTabURI":"/usr/lib/prezto/install.zsh"}],"tree-view":{"directoryExpansionStates":{"/home/cm/dotfiles":{"isExpanded":false,"entries":{}},"/usr/lib/prezto":{"isExpanded":true,"entries":{".git":{"isExpanded":false,"entries":{}},"modules":{"isExpanded":false,"entries":{}},"runcoms":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/usr/lib/prezto/install.zsh","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":187},"pigments":{"project":{"deserializer":"ColorProject","timestamp":"2015-11-18T03:02:49.988Z","version":"1.0.1","markersVersion":"1.0.5","globalSourceNames":["**/*.styl","**/*.stylus","**/*.less","**/*.sass","**/*.scss"],"globalIgnoredNames":["vendor/*","node_modules/*","spec/*","test/*"],"buffers":{"75":{"id":75,"path":"/usr/lib/prezto/install.zsh","colorMarkers":[]}},"paths":[],"variables":{"deserializer":"VariablesCollection","content":[]}}}},"fullScreen":false}